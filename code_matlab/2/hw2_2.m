ImageInRGB=imread('G:\大三下\数字图像处理与机器视觉\code_matlab\2\apple2.png');
ImageIn=double(rgb2gray(ImageInRGB));
%建立查找表
QBcolor=uint8(zeros(16,3));
QBcolor(1,:)=[0,0,0];
QBcolor(2,:)=[0,0,191];
QBcolor(3,:)=[0,191,0];
QBcolor(4,:)=[0,191,191];
QBcolor(5,:)=[191,0,0];
QBcolor(6,:)=[191,0,191];
QBcolor(7,:)=[191,191,0];
QBcolor(8,:)=[191,191,191];
QBcolor(9,:)=[64,64,64];
QBcolor(10,:)=[0,0,255];
QBcolor(11,:)=[0,255,0];
QBcolor(12,:)=[0,255,255];
QBcolor(13,:)=[255,0,0];
QBcolor(14,:)=[255,0,255];
QBcolor(15,:)=[255,255,0];
QBcolor(16,:)=[255,255,255];
%彩色图像三个通道
ImageOut=uint8(zeros(size(ImageIn,1),size(ImageIn,2),3));
MinGray=min(min(ImageIn));
MaxGray=max(max(ImageIn));
MinShow=0;
MaxShow=15;
ImageIn16=ImageIn;
ImageIn16=(MaxShow-MinShow)/(MaxGray-MinGray)*(ImageIn-MinGray)+MinShow;
ImageIn16=uint8(ImageIn16);
for i =1:size(ImageOut,1)
    for j=1:size(ImageOut,2)
        ImageOut(i,j,:)=QBcolor(ImageIn16(i,j)+1,:);
    end
end
subplot(1,2,1);
imshow(uint8(ImageIn));
title('原图像');
subplot(1,2,2);
imshow(uint8(ImageOut));
title('伪彩色变换之后照片');
